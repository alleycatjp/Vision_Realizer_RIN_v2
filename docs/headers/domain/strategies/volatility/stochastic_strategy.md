# ========================================
# 📄 stochastic_strategy.py - ストキャスティクス戦術（volatility層）
# ----------------------------------------
# ■ 目的（ファイルの存在意義：詳細に）:
#   ストキャスティクス指標（%K / %D）によって短期的な反転を捉え、
#   ゴールデンクロス／デッドクロスのタイミングでアクションを決定する戦術を提供する。
#
# ■ 想定ユースケース（使用状況）:
#   application/strategy_executor.py により market_state == "volatility" の条件下で呼び出され、
#   不安定な市場での短期反転の兆候検出を目的とする。
#
# ■ 設計思想・背景:
#   トレンド継続よりも「短期反発／転換」を重視し、
#   クロスによる明確な転換シグナルに限定したトリガー判定。
#
# ■ 実現機能（詳細に）:
#   - %K（14期間）および %D（3期間）の計算
#   - クロス検出による buy / sell 判定
#   - 信号がない場合は hold を返却
#
# ■ 外部依存・前提:
#   - dfには "close", "high", "low" カラムを含むこと
#   - 最低 k_period + d_period 行のデータが必要
#
# ■ 主な処理フロー:
#   %K / %D 計算 → クロス判定 → signal / score 出力
#
# ■ 注意点・構造補足:
#   - 出力形式は {"signal": str, "score": int}
#   - score は固定（+1 / -1 / 0）
#
# ■ 開発再開時のポイント:
#   - scoreにクロス角度や位置（80/20）条件を加味
#   - RSIやBBとの複合判定構想
# ========================================
