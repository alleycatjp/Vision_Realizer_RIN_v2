# ========================================
# 📄 test_bot_flow.py - Bot動作検証E2Eテスト（tests層）
# ----------------------------------------
# ■ 目的（ファイルの存在意義：詳細に）:
#   application.bot モジュールの run_once() が、
#   指定ディレクトリ環境下で適切に buy / sell / none のいずれかを返すかを検証する。
#
# ■ 想定ユースケース（使用状況）:
#   開発時・CI実行時に、Botエンジンの主要動作が破損していないか確認するための自動テスト。
#
# ■ 設計思想・背景:
#   run_once() の内部処理をmockせず、最小限の依存で end-to-end の意思決定ルートを通すことを目的とする。
#   データ出力先は一時パス（tmp_path）を用いて汚染を防ぐ。
#
# ■ 実現機能（詳細に）:
#   - ConfigLoaderで取得した paths["data_dir"] を一時ディレクトリに差し替え
#   - Bot.run_once() を非同期で実行し、返却結果を検証
#
# ■ 外部依存・前提:
#   - application.bot.Bot に run_once() 実装が存在していること
#   - pytest-asyncio による非同期テスト実行環境
#
# ■ 注意点・構造補足:
#   - 出力ファイルや外部APIはモックされていないため、単体テストとは異なる
#   - 実行結果は "buy" / "sell" / "none" のいずれかである必要がある
#
# ■ 開発再開時のポイント:
#   - run_once() 内部のmock切替対応（ネットワーク依存排除）
#   - スコア値などの構造検証も含めた拡張的な検査構想
# ========================================
